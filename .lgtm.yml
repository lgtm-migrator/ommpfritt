###########################################################################
path_classifiers:
  test:
    - test
extraction:
  cpp:
    prepare:
      packages:
        - build-essential
        - cmake
        - gcc
        - libffi-dev
        - libgl-dev
        - libpoppler-qt5-dev
        - libqt5svg5-dev
        - libssl-dev
        - pybind11-dev
        - python3-dev
        - qt5-default
        - qt5-qmake
        - qtchooser
        - qtbase5-dev
        - qtbase5-dev-tools
        - qttools5-dev
        - zlib1g-dev
    configure:
      command:
        - git clone https://gitlab.com/inkscape/lib2geom.git
        - pushd lib2geom
        - git checkout 37876ed4
        - cmake -B build -GNinja -DCMAKE_INSTALL_PREFIX=build/install -D2GEOM_TESTING=OFF -DNO_TRANSLATION
        - cmake --build build --target install
        - popd
        - mkdir build
        - cd build
        - cmake -DGENERATE_ICONS=off -DCMAKE_BUILD_TYPE=Release -DQT_QM_PATH="/usr/share/qt5/translations/" -DCMAKE_INSTALL_PREFIX="/usr;../lib2geom/build/install/lib/cmake" ..
    index:
      build_command:
        - cd build
        - make
  python:
    after_prepare:
      - export PATH=$LGTM_WORKSPACE/tools:$PATH
